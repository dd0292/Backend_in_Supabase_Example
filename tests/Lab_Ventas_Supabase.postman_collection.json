{
	"info": {
		"_postman_id": "4419b1f4-a078-4e49-b5d7-8bd361192049",
		"name": "Lab_Ventas_Supabase",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "46267459",
		"_collection_link": "https://rodrigo-7482025.postman.co/workspace/Rodrigo's-Workspace~5855ec7b-29d6-4589-8e20-6ee0269a3998/collection/46267459-4419b1f4-a078-4e49-b5d7-8bd361192049?action=share&source=collection_link&creator=46267459"
	},
	"item": [
		{
			"name": "User1 Auth",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					},
					{
						"key": "Authorization",
						"value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJtYmV1ZWdvdGl6Y3N0aGF1cXR5Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1OTM2MDUwMSwiZXhwIjoyMDc0OTM2NTAxfQ.nNVol_9LE8oIXasxT7rEEXjiSWSRngcCNz2uua6UaP4",
						"type": "text"
					},
					{
						"key": "apiKey",
						"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJtYmV1ZWdvdGl6Y3N0aGF1cXR5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkzNjA1MDEsImV4cCI6MjA3NDkzNjUwMX0.6UOZAtTgDaFoVudymTENrN8hWvRSOdecDUijPrE0nZY",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n  \"email\": \"user3@test.com\",\r\n  \"password\": \"password123\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://unxnlzqanpriqfemuaeh.supabase.co/auth/v1/token?grant_type=password",
					"protocol": "https",
					"host": [
						"unxnlzqanpriqfemuaeh",
						"supabase",
						"co"
					],
					"path": [
						"auth",
						"v1",
						"token"
					],
					"query": [
						{
							"key": "grant_type",
							"value": "password"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "User2 Auth",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					},
					{
						"key": "Authorization",
						"value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJtYmV1ZWdvdGl6Y3N0aGF1cXR5Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1OTM2MDUwMSwiZXhwIjoyMDc0OTM2NTAxfQ.nNVol_9LE8oIXasxT7rEEXjiSWSRngcCNz2uua6UaP4",
						"type": "text"
					},
					{
						"key": "apiKey",
						"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJtYmV1ZWdvdGl6Y3N0aGF1cXR5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkzNjA1MDEsImV4cCI6MjA3NDkzNjUwMX0.6UOZAtTgDaFoVudymTENrN8hWvRSOdecDUijPrE0nZY",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n  \"email\": \"user2@test.com\",\r\n  \"password\": \"password123\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://unxnlzqanpriqfemuaeh.supabase.co/auth/v1/token?grant_type=password",
					"protocol": "https",
					"host": [
						"unxnlzqanpriqfemuaeh",
						"supabase",
						"co"
					],
					"path": [
						"auth",
						"v1",
						"token"
					],
					"query": [
						{
							"key": "grant_type",
							"value": "password"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "User3 Auth",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					},
					{
						"key": "Authorization",
						"value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJtYmV1ZWdvdGl6Y3N0aGF1cXR5Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1OTM2MDUwMSwiZXhwIjoyMDc0OTM2NTAxfQ.nNVol_9LE8oIXasxT7rEEXjiSWSRngcCNz2uua6UaP4",
						"type": "text"
					},
					{
						"key": "apiKey",
						"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJtYmV1ZWdvdGl6Y3N0aGF1cXR5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkzNjA1MDEsImV4cCI6MjA3NDkzNjUwMX0.6UOZAtTgDaFoVudymTENrN8hWvRSOdecDUijPrE0nZY",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n  \"email\": \"user1@test.com\",\r\n  \"password\": \"password123\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://unxnlzqanpriqfemuaeh.supabase.co/auth/v1/token?grant_type=password",
					"protocol": "https",
					"host": [
						"unxnlzqanpriqfemuaeh",
						"supabase",
						"co"
					],
					"path": [
						"auth",
						"v1",
						"token"
					],
					"query": [
						{
							"key": "grant_type",
							"value": "password"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Productos por categoria",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					},
					{
						"key": "Authorization",
						"value": "Bearer eyJhbGciOiJIUzI1NiIsImtpZCI6Im1nc0dYNURCVnJudGl4NmEiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3JtYmV1ZWdvdGl6Y3N0aGF1cXR5LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJzdWIiOiIzYzU0NGEzMC04MzA0LTQ2OTItOWI0ZC03NDk4NGVhNjcwN2YiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzU5Mzc3OTUzLCJpYXQiOjE3NTkzNzQzNTMsImVtYWlsIjoidXNlcjNAdGVzdC5jb20iLCJwaG9uZSI6IiIsImFwcF9tZXRhZGF0YSI6eyJwcm92aWRlciI6ImVtYWlsIiwicHJvdmlkZXJzIjpbImVtYWlsIl19LCJ1c2VyX21ldGFkYXRhIjp7ImVtYWlsX3ZlcmlmaWVkIjp0cnVlfSwicm9sZSI6ImF1dGhlbnRpY2F0ZWQiLCJhYWwiOiJhYWwxIiwiYW1yIjpbeyJtZXRob2QiOiJwYXNzd29yZCIsInRpbWVzdGFtcCI6MTc1OTM3NDM1M31dLCJzZXNzaW9uX2lkIjoiZjRhYjgxOTMtMWMyNC00ODQyLThkY2ItOTVjYjkxZGUzODZhIiwiaXNfYW5vbnltb3VzIjpmYWxzZX0.N8dLkKD0I1XSRy-8Hdw5BPa1WAkNtK4pQv4nuO_yC_I",
						"type": "text"
					},
					{
						"key": "apiKey",
						"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJtYmV1ZWdvdGl6Y3N0aGF1cXR5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkzNjA1MDEsImV4cCI6MjA3NDkzNjUwMX0.6UOZAtTgDaFoVudymTENrN8hWvRSOdecDUijPrE0nZY",
						"type": "text"
					}
				],
				"url": {
					"raw": "https://unxnlzqanpriqfemuaeh.supabase.co/rest/v1/products?select=*&category_id=eq.1",
					"protocol": "https",
					"host": [
						"unxnlzqanpriqfemuaeh",
						"supabase",
						"co"
					],
					"path": [
						"rest",
						"v1",
						"products"
					],
					"query": [
						{
							"key": "select",
							"value": "*"
						},
						{
							"key": "category_id",
							"value": "eq.1"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Clientes por pais",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					},
					{
						"key": "Authorization",
						"value": "Bearer eyJhbGciOiJIUzI1NiIsImtpZCI6Im1nc0dYNURCVnJudGl4NmEiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3JtYmV1ZWdvdGl6Y3N0aGF1cXR5LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJzdWIiOiIzYzU0NGEzMC04MzA0LTQ2OTItOWI0ZC03NDk4NGVhNjcwN2YiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzU5Mzc3OTUzLCJpYXQiOjE3NTkzNzQzNTMsImVtYWlsIjoidXNlcjNAdGVzdC5jb20iLCJwaG9uZSI6IiIsImFwcF9tZXRhZGF0YSI6eyJwcm92aWRlciI6ImVtYWlsIiwicHJvdmlkZXJzIjpbImVtYWlsIl19LCJ1c2VyX21ldGFkYXRhIjp7ImVtYWlsX3ZlcmlmaWVkIjp0cnVlfSwicm9sZSI6ImF1dGhlbnRpY2F0ZWQiLCJhYWwiOiJhYWwxIiwiYW1yIjpbeyJtZXRob2QiOiJwYXNzd29yZCIsInRpbWVzdGFtcCI6MTc1OTM3NDM1M31dLCJzZXNzaW9uX2lkIjoiZjRhYjgxOTMtMWMyNC00ODQyLThkY2ItOTVjYjkxZGUzODZhIiwiaXNfYW5vbnltb3VzIjpmYWxzZX0.N8dLkKD0I1XSRy-8Hdw5BPa1WAkNtK4pQv4nuO_yC_I",
						"type": "text"
					},
					{
						"key": "apiKey",
						"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJtYmV1ZWdvdGl6Y3N0aGF1cXR5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkzNjA1MDEsImV4cCI6MjA3NDkzNjUwMX0.6UOZAtTgDaFoVudymTENrN8hWvRSOdecDUijPrE0nZY",
						"type": "text"
					}
				],
				"url": {
					"raw": "https://unxnlzqanpriqfemuaeh.supabase.co/rest/v1/customers?select=*&country_code=eq.CR",
					"protocol": "https",
					"host": [
						"unxnlzqanpriqfemuaeh",
						"supabase",
						"co"
					],
					"path": [
						"rest",
						"v1",
						"customers"
					],
					"query": [
						{
							"key": "select",
							"value": "*"
						},
						{
							"key": "country_code",
							"value": "eq.CR"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Facturas con cliente embebido",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					},
					{
						"key": "Authorization",
						"value": "Bearer eyJhbGciOiJIUzI1NiIsImtpZCI6Im1nc0dYNURCVnJudGl4NmEiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3JtYmV1ZWdvdGl6Y3N0aGF1cXR5LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJzdWIiOiIzYzU0NGEzMC04MzA0LTQ2OTItOWI0ZC03NDk4NGVhNjcwN2YiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzU5Mzg0NTQ1LCJpYXQiOjE3NTkzODA5NDUsImVtYWlsIjoidXNlcjNAdGVzdC5jb20iLCJwaG9uZSI6IiIsImFwcF9tZXRhZGF0YSI6eyJwcm92aWRlciI6ImVtYWlsIiwicHJvdmlkZXJzIjpbImVtYWlsIl19LCJ1c2VyX21ldGFkYXRhIjp7ImVtYWlsX3ZlcmlmaWVkIjp0cnVlfSwicm9sZSI6ImF1dGhlbnRpY2F0ZWQiLCJhYWwiOiJhYWwxIiwiYW1yIjpbeyJtZXRob2QiOiJwYXNzd29yZCIsInRpbWVzdGFtcCI6MTc1OTM4MDk0NX1dLCJzZXNzaW9uX2lkIjoiOWQwNWQ3NTAtNzVkMS00NWIwLTgxOTgtOTlhYzJlMTQ1MDdkIiwiaXNfYW5vbnltb3VzIjpmYWxzZX0.nT1JO_cQFwKtyfPm2yiUN1JMgGmZqJVxXJ0ZmGG5DJ0",
						"type": "text"
					},
					{
						"key": "apiKey",
						"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJtYmV1ZWdvdGl6Y3N0aGF1cXR5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkzNjA1MDEsImV4cCI6MjA3NDkzNjUwMX0.6UOZAtTgDaFoVudymTENrN8hWvRSOdecDUijPrE0nZY",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://unxnlzqanpriqfemuaeh.supabase.co/rest/v1/invoices?select=*,customers(*)",
					"protocol": "https",
					"host": [
						"unxnlzqanpriqfemuaeh",
						"supabase",
						"co"
					],
					"path": [
						"rest",
						"v1",
						"invoices"
					],
					"query": [
						{
							"key": "select",
							"value": "*,customers(*)"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Detalle con producto embebido",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					},
					{
						"key": "Authorization",
						"value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJtYmV1ZWdvdGl6Y3N0aGF1cXR5Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1OTM2MDUwMSwiZXhwIjoyMDc0OTM2NTAxfQ.nNVol_9LE8oIXasxT7rEEXjiSWSRngcCNz2uua6UaP4",
						"type": "text"
					},
					{
						"key": "apiKey",
						"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJtYmV1ZWdvdGl6Y3N0aGF1cXR5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkzNjA1MDEsImV4cCI6MjA3NDkzNjUwMX0.6UOZAtTgDaFoVudymTENrN8hWvRSOdecDUijPrE0nZY",
						"type": "text"
					}
				],
				"url": {
					"raw": "https://unxnlzqanpriqfemuaeh.supabase.co/rest/v1/invoice_lines?select=*,products(*)",
					"protocol": "https",
					"host": [
						"unxnlzqanpriqfemuaeh",
						"supabase",
						"co"
					],
					"path": [
						"rest",
						"v1",
						"invoice_lines"
					],
					"query": [
						{
							"key": "select",
							"value": "*,products(*)"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Insertar factura",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					},
					{
						"key": "Authorization",
						"value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJtYmV1ZWdvdGl6Y3N0aGF1cXR5Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1OTM2MDUwMSwiZXhwIjoyMDc0OTM2NTAxfQ.nNVol_9LE8oIXasxT7rEEXjiSWSRngcCNz2uua6UaP4",
						"type": "text"
					},
					{
						"key": "apiKey",
						"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJtYmV1ZWdvdGl6Y3N0aGF1cXR5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkzNjA1MDEsImV4cCI6MjA3NDkzNjUwMX0.6UOZAtTgDaFoVudymTENrN8hWvRSOdecDUijPrE0nZY",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n  \"customer_id\": 1,\r\n  \"invoice_date\": \"2024-01-15\",\r\n  \"total_amount\": 0\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://unxnlzqanpriqfemuaeh.supabase.co/rest/v1/invoices",
					"protocol": "https",
					"host": [
						"unxnlzqanpriqfemuaeh",
						"supabase",
						"co"
					],
					"path": [
						"rest",
						"v1",
						"invoices"
					]
				}
			},
			"response": []
		},
		{
			"name": "Agregar Lineas A Factura",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					},
					{
						"key": "Authorization",
						"value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJtYmV1ZWdvdGl6Y3N0aGF1cXR5Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1OTM2MDUwMSwiZXhwIjoyMDc0OTM2NTAxfQ.nNVol_9LE8oIXasxT7rEEXjiSWSRngcCNz2uua6UaP4",
						"type": "text"
					},
					{
						"key": "apiKey",
						"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJtYmV1ZWdvdGl6Y3N0aGF1cXR5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkzNjA1MDEsImV4cCI6MjA3NDkzNjUwMX0.6UOZAtTgDaFoVudymTENrN8hWvRSOdecDUijPrE0nZY",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n  \"invoice_id\": 1,\r\n  \"product_id\": 1,\r\n  \"quantity\": 2,\r\n  \"unit_price\": 999.99,\r\n  \"line_total\": 1999.98\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://unxnlzqanpriqfemuaeh.supabase.co/rest/v1/invoice_lines",
					"protocol": "https",
					"host": [
						"unxnlzqanpriqfemuaeh",
						"supabase",
						"co"
					],
					"path": [
						"rest",
						"v1",
						"invoice_lines"
					]
				}
			},
			"response": []
		},
		{
			"name": "Create_Invoice",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "apikey",
						"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVueG5senFhbnByaXFmZW11YWVoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc5NjI3MjksImV4cCI6MjA2MzUzODcyOX0.n_OOCLz2Rtj3SzSPbqfIuuBhRALrAaHZPcPCu6zrxWQ"
					},
					{
						"key": "Authorization",
						"value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVueG5senFhbnByaXFmZW11YWVoIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0Nzk2MjcyOSwiZXhwIjoyMDYzNTM4NzI5fQ.FC5GpvmnAfbeyDvMo-CX4-yqRi5jdCS8PAZ6fFOa_cU"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{ \"customer_id\": 4,\r\n \"items\": [\r\n    { \"product_id\": 5, \"quantity\": 2 },                 \r\n    { \"product_id\": 10, \"quantity\": 5, \"unit_price\": 39.9 }\r\n ] \r\n }",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://unxnlzqanpriqfemuaeh.supabase.co/rest/v1/rpc/create_invoice",
					"protocol": "https",
					"host": [
						"unxnlzqanpriqfemuaeh",
						"supabase",
						"co"
					],
					"path": [
						"rest",
						"v1",
						"rpc",
						"create_invoice"
					]
				}
			},
			"response": []
		}
	]
}
